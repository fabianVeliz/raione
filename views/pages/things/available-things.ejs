<div id="available-things" v-cloak>

  <h1>Things</h1>
  <p>View available items to borrow, or upload your own things.</p>
  <button>TODO</button>

  <ul>
    <li v-for="thing in things"
        class="thing">
      <h2>{{thing.label}}</h2>
      <span>{{thing.owner.fullName}}</span>

      <i @click="clickDeleteThing(thing)" class="thing-delete">X</i>
    </li>
  </ul>

  <% /* "Confirm delete thing" modal */ %>
  <modal v-if="confirmDeleteThingModalOpen && selectedThing"
         key="delete"
         @close="closeDeleteThingModal()"
  >
    <ajax-form action="destroyOneThing" :syncing.sync="syncing" :cloud-error.sync="cloudError"
               :handle-parsing="handleParsingDeleteThingForm" @submitted="submittedDeleteThingForm()">
      <div class="modal-header">
        <div class="modal-title">Remove this thing?</div>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span>&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this {{selectedThing.label || 'item'}}</p>
      </div>
      <div class="modal-footer">
        <button data-dismiss="modal" class="btn btn-outline-secondary mr-1">Nevermind</button>
        <button type="submit" class="btn btn-danger ml-1">Remove</button>
      </div>
    </ajax-form>
  </modal>
</div>
<%- /* Expose server-rendered data as window.SAILS_LOCALS :: */ exposeLocalsToBrowser() %>
